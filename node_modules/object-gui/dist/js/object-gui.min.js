/*! ObjectGUI v1.1.1 by Matteo Bruni */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var s=t();for(var n in s)("object"==typeof exports?exports:e)[n]=s[n]}}(this,(function(){return(()=>{"use strict";var e,t={d:(e,s)=>{for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},s={};t.r(s),t.d(s,{Editor:()=>p,EditorButton:()=>i,EditorCheckboxInput:()=>a,EditorColorInput:()=>o,EditorGroup:()=>m,EditorItem:()=>n,EditorNumberInput:()=>u,EditorSelectInput:()=>c,EditorStringInput:()=>d,EditorType:()=>e});class n{constructor(e,t){this.data=e,this.createElement=t,this.element=this.createElement(),this.collapsed=!0}updateCollapse(e){this.collapsed=e}}class i extends n{constructor(e,t,s,n,i=!0){super(e,(()=>document.createElement("button"))),this.id=t,this.name=s,this.label=n,this.autoMap=i,this.element.id=`button_${this.id}`,this.element.innerText=this.label,this.element.addEventListener("click",(()=>{if(this.autoMap){const e=this.data,t=e[this.name];"function"==typeof t&&t.bind(e)()}this.clickHandler&&this.clickHandler()}))}click(e){return this.clickHandler=e,this}}class r extends n{constructor(e,t,s,n,i,r,a,l,o,d=!0){super(e,t),this.id=s,this.name=n,this.getDefaultValue=i,this.transformValue=r,this.getValueFromInput=a,this.setValueToInput=l,this.autoMap=d;const h=this.element,u=this.data;h.id=`input_${this.id}`,this.value=r(null!=o?o:this.autoMap?u[this.name]:this.getDefaultValue()),this.setValueToInput(this,this.value)}change(e){return this.changeHandler=e,this}changeEventHandler(){if(this.value=this.getValueFromInput(this),this.autoMap){this.data[this.name]=this.value}this.changeHandler&&this.changeHandler(this.value)}}class a extends r{constructor(e,t,s,n,i=!0){super(e,(()=>document.createElement("input")),t,s,(()=>!1),(e=>e),(e=>e.element.checked),((e,t)=>{e.element.checked=t}),n,i);const r=this.element;r.type="checkbox",r.addEventListener("change",(()=>{this.changeEventHandler()})),this.fullDom=document.createElement("div"),this.fullDom.append(this.element);const a=document.createElement("div");a.classList.add("editor-spacer"),this.fullDom.append(a)}addItem(){return this}addItemGroup(){return this}addItems(){return this}max(){return this}min(){return this}step(){return this}}class l{static stringToRgb(e){return l.stringToRgba(e)}static hslToRgb(e){const t={b:0,g:0,r:0},s={h:e.h/360,l:e.l/100,s:e.s/100};if(0===s.s)t.b=s.l,t.g=s.l,t.r=s.l;else{const e=s.l<.5?s.l*(1+s.s):s.l+s.s-s.l*s.s,n=2*s.l-e;t.r=l.hue2rgb(n,e,s.h+1/3),t.g=l.hue2rgb(n,e,s.h),t.b=l.hue2rgb(n,e,s.h-1/3)}return t.r=Math.floor(255*t.r),t.g=Math.floor(255*t.g),t.b=Math.floor(255*t.b),t}static hslaToRgba(e){const t=l.hslToRgb(e);return{a:e.a,b:t.b,g:t.g,r:t.r}}static hsvToRgb(e){const t={b:0,g:0,r:0},s=e.h/60,n=e.s/100,i=e.v/100,r=i*n,a=r*(1-Math.abs(s%2-1));let l;if(s>=0&&s<=1?l={r,g:a,b:0}:s>1&&s<=2?l={r:a,g:r,b:0}:s>2&&s<=3?l={r:0,g:r,b:a}:s>3&&s<=4?l={r:0,g:a,b:r}:s>4&&s<=5?l={r:a,g:0,b:r}:s>5&&s<=6&&(l={r,g:0,b:a}),l){const e=i-r;t.r=Math.floor(255*(l.r+e)),t.g=Math.floor(255*(l.g+e)),t.b=Math.floor(255*(l.b+e))}return t}static mix(e,t,s,n){const i=(e,t,s,n)=>Math.floor((e*s+t*n)/(s+n));let r=e,a=t;return void 0===r.r&&(r=l.hslToRgb(e)),void 0===a.r&&(a=l.hslToRgb(t)),{b:i(r.b,a.b,s,n),g:i(r.g,a.g,s,n),r:i(r.r,a.r,s,n)}}static hue2rgb(e,t,s){let n=s;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}static stringToRgba(e){if(e.startsWith("rgb")){const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.]+)\s*)?\)/i.exec(e);return t?{a:t.length>4?parseFloat(t[5]):1,b:parseInt(t[3],10),g:parseInt(t[2],10),r:parseInt(t[1],10)}:void 0}if(e.startsWith("hsl")){const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i.exec(e);return t?l.hslaToRgba({a:t.length>4?parseFloat(t[5]):1,h:parseInt(t[1],10),l:parseInt(t[3],10),s:parseInt(t[2],10)}):void 0}{const t=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,s=e.replace(t,((e,t,s,n,i)=>t+t+s+s+n+n+(void 0!==i?i+i:""))),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(s);return n?{a:void 0!==n[4]?parseInt(n[4],16)/255:1,b:parseInt(n[3],16),g:parseInt(n[2],16),r:parseInt(n[1],16)}:void 0}}}class o extends r{constructor(e,t,s,n,i=!0){super(e,(()=>document.createElement("input")),t,s,(()=>""),(e=>{let t;if(void 0===e)t=void 0;else if("string"==typeof e)t=e;else{let s=e;const n=e;if(void 0!==n.h&&void 0!==n.l)s=l.hslToRgb(n);else{const t=e;void 0!==t.h&&void 0!==t.v&&(s=l.hsvToRgb(t))}t=`#${s.r.toString(16).padStart(2,"0")}${s.g.toString(16).padStart(2,"0")}${s.b.toString(16).padStart(2,"0")}`}return t}),(e=>e.element.value),((e,t)=>{e.element.value=t}),n,i),this.fullDom=document.createElement("div"),this.colorInput=document.createElement("input"),this.colorInput.type="color",this.colorInput.value=this.value,this.fullDom.append(this.colorInput);const r=this.element;r.type="text",this.fullDom.append(this.element),this.updateStyle(r.value),r.addEventListener("change",(()=>{const e=this.element;this.colorInput.value=e.value,this.changeEventHandler()})),this.colorInput.addEventListener("change",(()=>{this.element.value=this.colorInput.value,this.changeEventHandler()}))}static textColor(e){if(void 0===e)return;const t=l.stringToRgb(e);if(!t)return;return Math.round((299*t.r+587*t.g+114*t.b)/1e3)>125?"#000":"#fff"}step(){return this}min(){return this}max(){return this}addItem(){return this}addItems(){return this}addItemGroup(){return this}changeEventHandler(){super.changeEventHandler(),this.updateStyle(this.value)}updateStyle(e){l.stringToRgb(e)?(this.element.style.backgroundColor=e,this.colorInput.style.backgroundColor=e):(this.element.style.backgroundColor="",this.colorInput.style.backgroundColor="");const t=o.textColor(e);void 0!==t?(this.element.style.color=t,this.colorInput.style.color=t):(this.element.style.color="",this.colorInput.style.color="")}}class d extends r{constructor(e,t,s,n,i=!0){super(e,(()=>document.createElement("input")),t,s,(()=>""),(e=>e),(e=>e.element.value),((e,t)=>{e.element.value=t}),n,i);const r=this.element;r.type="text",r.addEventListener("change",(()=>{this.changeEventHandler()}))}addItem(){return this}addItemGroup(){return this}addItems(){return this}max(){return this}min(){return this}step(){return this}}class h{static clamp(e,t,s){const n=Math.min(t,s),i=Math.max(t,s);return Math.min(Math.max(n,e),i)}}class u extends r{constructor(e,t,s,n,i=!0){super(e,(()=>document.createElement("input")),t,s,(()=>0),(e=>e),(e=>{var t,s;const n=e,i=n.element,r=parseFloat(i.value);return h.clamp(r,null!==(t=n._min)&&void 0!==t?t:r,null!==(s=n._max)&&void 0!==s?s:r)}),((e,t)=>{var s,n;const i=e,r=t;i.element.value=h.clamp(r,null!==(s=i._min)&&void 0!==s?s:r,null!==(n=i._max)&&void 0!==n?n:r).toString()}),n,i);const r=this.element;r.type="number",this.fullDom=document.createElement("div"),this.fullDom.append(this.element),r.addEventListener("change",(()=>{this.changeEventHandler()}))}static getDragger(e){return e.querySelector("span")}step(e){return this.element.step=e.toString(10),this._step=e,this}min(e){return this.element.min=e.toString(10),this._min=e,this.drawSlider(),this}max(e){return this.element.max=e.toString(10),this._max=e,this.drawSlider(),this}addItem(){return this}addItemGroup(){return this}addItems(){return this}updateCollapse(e){super.updateCollapse(e);const t=this.getSlider();if(!t)return;this.updateSliderData(t);const s=u.getDragger(t);s&&this.updateDragger(s)}changeEventHandler(){super.changeEventHandler();const e=this.getSlider();if(!e)return;const t=u.getDragger(e);t&&this.updateDragger(t)}getSlider(){if(void 0===this._max||void 0===this._min)return null;const e=this.fullDom;return e?e.querySelector(".range-slider"):null}updateSliderData(e){const t=e.getBoundingClientRect();this.slider={left:t.left,width:t.width}}updateDragger(e){var t,s;if(!this.slider)return;const n=null!==(t=this._max)&&void 0!==t?t:0,i=null!==(s=this._min)&&void 0!==s?s:0,r=this.value,a=n-i,l=0!==a?r/a:0;e.style.width=l*this.slider.width+"px"}updateDraggerEvent(e,t,s){var n,i,r;if(!this.slider||!t)return;const a=null!==(n=this._max)&&void 0!==n?n:0,l=null!==(i=this._min)&&void 0!==i?i:0,o=null!==(r=this._step)&&void 0!==r?r:0,d=h.clamp(e.pageX-this.slider.left,0,this.slider.width);let u=h.clamp(d/this.slider.width*(a-l)+l,l,a);o>0&&(u=Math.floor(u/o)*o),s.style.width=`${d}px`,this.onDrag(u)}onDrag(e){this.element.value=e.toString(10),this.changeEventHandler()}drawSlider(){var e,t;if(void 0===this._max||void 0===this._min)return;const s=this.fullDom;if(!s)return;if(s.querySelector(".range-slider"))return;this.element.classList.add("slider-input");const n=document.createElement("div");n.classList.add("range-slider"),n.appendChild(document.createElement("span")),s.insertBefore(n,this.element);const i=n.getBoundingClientRect();this.slider={left:i.left,width:i.width};const r=n.children[0];let a=!1;const l=null!==(e=this._max)&&void 0!==e?e:0,o=null!==(t=this._min)&&void 0!==t?t:0,d=this.value,h=Math.abs(l)+Math.abs(o),u=0!==h?d/h:0;r.style.width=u*this.slider.width+"px",r.style.left="0px",r.style.marginLeft="0px",n.addEventListener("mousedown",(e=>{if(e.target)return a=!0,this.updateDraggerEvent(e,a,r),!1})),document.addEventListener("mousemove",(e=>{this.updateDraggerEvent(e,a,r)})),document.addEventListener("mouseup",(()=>{a=!1})),window.addEventListener("resize",(()=>{const e=n.getBoundingClientRect();this.slider={left:e.left,width:e.width},this.updateDragger(r)}))}}class c extends r{constructor(e,t,s,n,i=!0){super(e,(()=>document.createElement("select")),t,s,(()=>""),(e=>e),(e=>e.element.value),((e,t)=>{e.element.value=t}),n,i);this.element.addEventListener("change",(()=>{this.changeEventHandler()}))}addItem(e,t,s){const n=this.element,i=document.createElement("option"),r=n.querySelector(`[label=${s}]`);return i.value=e,i.text=null!=t?t:e,i.selected=this.value===e,(null!=r?r:n).append(i),this}addItems(e){for(const t of e)this.addItem(t.value,t.text,t.group);return this}addItemGroup(e){const t=this.element,s=document.createElement("optgroup");return s.label=e,t.append(s),this}max(){return this}min(){return this}step(){return this}}!function(e){e.number="number",e.boolean="boolean",e.color="color",e.select="select",e.string="string"}(e||(e={}));class m extends n{constructor(e,t,s,n,i,r){super(e,(()=>document.createElement("div"))),this.name=t,this.title=s,this.collapsed=i,this.children=[],this.element.id=this.name,this.element.classList.add("editor","editor-group");const a=document.createElement("div");a.classList.add("editor-item-title");const l=document.createElement("div");l.classList.add("editor-item-name");const o=document.createElement("b");if(o.textContent=this.title,l.append(o),a.append(l),r){const e=document.createElement("div");e.classList.add("editor-button-theme"),e.append(r),a.append(e)}const d=document.createElement("div");d.classList.add("editor-button-collapse"),this.collapseButton=document.createElement("button"),this.collapseButton.type="button",this.collapseButton.addEventListener("click",(()=>{this.toggleCollapse()})),d.append(this.collapseButton),a.append(d),this.element.append(a),this.childrenGroup=document.createElement("div"),this.childrenGroup.classList.add("group-content"),this.element.append(this.childrenGroup),n.append(this.element),this.setCollapse()}static createRoot(e,t,s,n,i){return new m(s,`${this.name}_${e}`,t,n,!1,i)}addGroup(e,t,s=!0,n){const i=null!=n?n:this.data;i[e]||(i[e]={});const r=i[e],a=new m(r,`${this.name}_${e}`,t,this.childrenGroup,s);return this.children.push(a),a}addProperty(t,s,n,i,r=!0){const l=document.createElement("div");l.classList.add("editor-element");const h=document.createElement("label");let m;h.textContent=s,l.append(h);const p=`${this.name}_${t}`;switch(n){case e.number:m=new u(this.data,p,t,i,r);break;case e.boolean:m=new a(this.data,p,t,i,r);break;case e.color:m=new o(this.data,p,t,i,r);break;case e.select:m=new c(this.data,p,t,i,r);break;default:m=new d(this.data,p,t,i,r)}return this.children.push(m),m.fullDom?(m.fullDom.classList.add("element-dom"),l.append(m.fullDom)):l.append(m.element),this.childrenGroup.append(l),m}addButton(e,t,s=!0){const n=new i(this.data,`${this.name}_${e}`,e,t,s);return this.children.push(n),this.childrenGroup.append(n.element),n}toggleCollapse(){this.updateCollapse(!this.collapsed)}updateCollapse(e){super.updateCollapse(e),this.setCollapse()}setCollapse(){this.collapsed?(this.childrenGroup.style.display="none",this.collapseButton.textContent="Expand"):(this.childrenGroup.style.display="block",this.collapseButton.textContent="Collapse");for(const e of this.children)(e instanceof m||this.collapsed)&&!this.collapsed||e.updateCollapse(this.collapsed)}}class p{constructor(e,t,s){if(null==s)throw new Error("No valid data argument");this.themeSelect=document.createElement("select"),this.themeSelect.addEventListener("change",(()=>{this.theme(this.themeSelect.value)})),this._themes=[],this.addTheme("ashgrey"),this.addTheme("blue"),this.addTheme("brown"),this.addTheme("cyan"),this.addTheme("dark"),this.addTheme("fedex"),this.addTheme("gameboy"),this.addTheme("gold"),this.addTheme("green"),this.addTheme("grey"),this.addTheme("greyorange"),this.addTheme("light"),this.addTheme("moonlight"),this.addTheme("nautilus"),this.addTheme("night-sky"),this.addTheme("one-dark"),this.addTheme("orange"),this.addTheme("peach"),this.addTheme("pink"),this.addTheme("purple"),this.addTheme("rebeccapurple"),this.addTheme("red"),this.addTheme("starbell"),this.addTheme("sunlight"),this.addTheme("trafficlights"),this.addTheme("tuftsblue"),this.addTheme("yellow"),this.addTheme("neu-blue"),this.addTheme("neu-caribbean"),this.addTheme("neu-crystalgrape"),this.addTheme("neu-dark"),this.addTheme("neu-ecofriendly"),this.addTheme("neu-expedia"),this.addTheme("neu-gold"),this.addTheme("neu-greysun"),this.addTheme("neu-light"),this.addTheme("neu-moon"),this.addTheme("neu-orange"),this.addTheme("neu-pink"),this.addTheme("neu-silver"),this.root=m.createRoot(`${e}_editor`,t,s,document.body,this.themeSelect);const n=this.root.element.querySelector(".editor-item-title"),i=null==n?void 0:n.querySelector(".editor-item-name"),r=null==n?void 0:n.querySelector("b");let a=0,l=0,o=0,d=0,h=0,u=0;null==n||n.addEventListener("mousedown",(e=>{e.target!==i&&e.target!==n&&e.target!==r||(e.preventDefault(),a=e.clientX-h,l=e.clientY-u,n.classList.add("dragging"),document.onmouseup=()=>{document.onmouseup=null,document.onmousemove=null,a=o,l=d,n.classList.remove("dragging")},document.onmousemove=e=>{e.preventDefault(),o=e.clientX-a,d=e.clientY-l,h=o,u=d,this.root.element.style.transform=`translate3d(${o}px, ${d}px, 0)`})})),this.root.element.classList.add("editor-root"),this.customize(),this.top().right().theme("light")}get data(){return this.root.data}addButton(e,t,s=!0){return this.root.addButton(e,t,s)}addGroup(e,t,s=!0,n){return this.root.addGroup(e,t,s,n)}addProperty(e,t,s,n,i=!0){return this.root.addProperty(e,t,s,n,i)}top(){return this.root.element.classList.remove("editor-bottom"),this.root.element.classList.add("editor-top"),this}bottom(){return this.root.element.classList.remove("editor-top"),this.root.element.classList.add("editor-bottom"),this}left(){return this.root.element.classList.remove("editor-right"),this.root.element.classList.add("editor-left"),this}right(){return this.root.element.classList.remove("editor-left"),this.root.element.classList.add("editor-right"),this}theme(e){if(e!==this.currentTheme){this.root.element.classList.forEach((e=>{e.startsWith("editor-theme-")&&this.root.element.classList.remove(e)})),this.themeSelect.value=e;for(let e=0;e<this.themeSelect.options.length;e++){const t=this.themeSelect.options.item(e);t&&(t.selected=t.value===this.themeSelect.value)}this.root.element.classList.add(`editor-theme-${e}`),this.currentTheme=e}}addTheme(e){const t=document.createElement("option");t.value=e,t.text=e,t.selected=e===this.themeSelect.value,this.themeSelect.options.add(t)}themes(){return this._themes}customize(){}}return s})()}));